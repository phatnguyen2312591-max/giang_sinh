<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√≥n Qu√† Gi√°ng Sinh C·ªßa B·∫°n</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sacramento&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0; padding: 0;
            background: #051937;
            background-image: radial-gradient(circle, #a80000, #540000, #2b0000);
            color: white;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        /* --- M√†n h√¨nh 1: H·ªôp qu√† --- */
        #gift-screen {
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s;
        }
        
        /* Tr·∫°ng th√°i b√¨nh th∆∞·ªùng: Rung nh·∫π */
        .gift-box {
            font-size: 150px;
            animation: shake 2s infinite; 
            display: inline-block;
            transition: all 0.5s;
        }

        /* Tr·∫°ng th√°i S·∫ÆP N·ªî: Ph√¨nh to, rung m·∫°nh, h√≥a ƒë·ªè */
        .gift-exploding {
            animation: violent-explode 0.8s forwards ease-in !important; /* !important ƒë·ªÉ √©p bu·ªôc ch·∫°y */
            pointer-events: none; /* Kh√≥a kh√¥ng cho b·∫•m n·ªØa */
        }

        .click-hint {
            margin-top: 20px;
            font-size: 1.2rem;
            color: #fff;
            animation: blink 1.5s infinite;
        }

        /* --- M√†n h√¨nh 2: L·ªùi ch√∫c --- */
        #celebration-screen {
            display: none;
            text-align: center;
            width: 90%;
            max-width: 600px;
            z-index: 50;
        }

        .main-photo {
            width: 250px;
            border-radius: 20px;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            border: 5px solid white;
            margin-bottom: 20px;
        }
 h1, p {
    /* √Åp d·ª•ng font Sacramento */
    font-family: 'Sacramento', cursive;
    /* Font n√†y v·ªën ƒë√£ nghi√™ng v√† m·∫£nh n√™n kh√¥ng c·∫ßn ch·ªânh th√™m italic */
    font-weight: 400; 
}

h1 {
    font-size: 4rem; /* TƒÉng size l·ªõn v√¨ Sacramento n√©t r·∫•t m·∫£nh */
    color: #fffce0; /* M√†u v√†ng kem nh·∫π nh√†ng */
    text-shadow: 1px 1px 10px rgba(255, 255, 255, 0.3);
    margin: 15px 0;
    line-height: 1.2;
}

p {
    font-size: 1.8rem; /* TƒÉng size ƒë·ªÉ d·ªÖ ƒë·ªçc h∆°n */
    color: #ffffff;
    letter-spacing: 1px;
}
        }

        /* Animation Keyframes */
        @keyframes shake {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(3deg); }
            50% { transform: rotate(0deg); }
            75% { transform: rotate(-3deg); }
            100% { transform: rotate(0deg); }
        }

        /* Hi·ªáu ·ª©ng N·ªî TUNG: Rung c·ª±c m·∫°nh v√† ph√¨nh to */
        @keyframes violent-explode {
            0% { transform: scale(1) rotate(0deg); filter: hue-rotate(0deg); }
            20% { transform: scale(1.2) rotate(-10deg); filter: hue-rotate(90deg); } /* ƒê·ªïi m√†u */
            40% { transform: scale(1.4) rotate(10deg); filter: hue-rotate(180deg); }
            60% { transform: scale(1.6) rotate(-10deg); filter: hue-rotate(270deg); opacity: 0.8; }
            80% { transform: scale(1.8) rotate(10deg); filter: hue-rotate(360deg); opacity: 0.5; }
            100% { transform: scale(3); opacity: 0; } /* Bi·∫øn m·∫•t */
        }

        @keyframes wobble {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(10deg); }
            75% { transform: rotate(-10deg); }
        }

        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        /* C√°c class ph·ª• tr·ª£ */
        .wobble { animation: wobble 2s infinite ease-in-out; display: inline-block; }
        .icons-row { font-size: 3rem; margin-top: 10px; display: flex; justify-content: center; gap: 10px; }
        .icon-item { animation: wobble 2s infinite ease-in-out; }
        .snowflake { position: fixed; top: -10px; color: white; user-select: none; pointer-events: none; animation-name: fall; animation-timing-function: linear; z-index: 1; }
        @keyframes fall { to { transform: translateY(105vh); } }
        /* --- (M·ªöI) Class cho c√°c ·∫£nh trang tr√≠ bay l∆° l·ª≠ng --- */
        .decor-img {
            position: absolute; /* Cho ph√©p ƒë·∫∑t ƒë√¢u t√πy th√≠ch */
            z-index: 40; /* N·∫±m d∆∞·ªõi ·∫£nh ch√≠nh (z-index 50) ƒë·ªÉ kh√¥ng che m·∫•t n·ªôi dung */
        }
        
        /* M·∫πo nh·ªè: Khi m√†n h√¨nh ƒëi·ªán tho·∫°i qu√° nh·ªè, ·∫©n b·ªõt c√°c ·∫£nh ·ªü g√≥c ƒëi cho ƒë·ª° r·ªëi */
        @media (max-width: 600px) {
            .hide-on-mobile { display: none; }
            /* --- (M·ªöI) Hi·ªáu ·ª©ng "Ng√¥i sao" cho ·∫£nh ch√≠nh --- */
.main-photo-highlight {
    width: 350px; /* L√†m ·∫£nh to h∆°n */
    border-radius: 20px;
    /* T·∫°o vi·ªÅn v√†ng v√† hi·ªáu ·ª©ng h√†o quang t·ªèa s√°ng m·∫°nh m·∫Ω */
    border: 4px solid #ffd700;
    box-shadow: 0 0 40px rgba(255, 215, 0, 0.5), 0 0 80px rgba(255, 215, 0, 0.2);
    /* Hi·ªáu ·ª©ng "th·ªü" nh·∫π nh√†ng */
    animation: pulse-glow 3s infinite alternate ease-in-out;
    /* ƒê·∫£m b·∫£o n√≥ n·∫±m tr√™n c√πng */
    position: relative;
    z-index: 60;
}

        /* ƒê·ªãnh nghƒ©a hi·ªáu ·ª©ng "th·ªü" v√† ƒë·ªïi m√†u h√†o quang */
        @keyframes pulse-glow {
        0% {
            transform: scale(1);
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.5), 0 0 80px rgba(255, 215, 0, 0.2);
        }
        100% {
            transform: scale(1.05); /* Ph√≥ng to nh·∫π */
        /* H√†o quang s√°ng h∆°n v√† ƒë·ªïi sang m√†u cam ·∫•m */
            box-shadow: 0 0 60px rgba(255, 165, 0, 0.7), 0 0 100px rgba(255, 165, 0, 0.4);
            border-color: #ffa500;
    }
}

/* L√†m cho ch·ªØ v√† icon b·ªõt n·ªïi b·∫≠t ƒë·ªÉ nh∆∞·ªùng ch·ªó cho ·∫£nh */
.celebration-text, .icons-row {
    opacity: 0.8; /* L√†m m·ªù nh·∫π */
    transform: scale(0.9); /* Thu nh·ªè nh·∫π */
}

    </style>
</head>
<body>

    <div id="gift-screen" onclick="openGift()">
        <div class="gift-box">üéÅ</div> 
        <div class="click-hint">Nh·∫•n v√†o h·ªôp qu√† ƒë·ªÉ m·ªü!</div>
    </div>

    <div id="celebration-screen">
        <img src="vat1.png" class="decor-img wobble" style="top: 10%; left: 20%; width: 120px;" alt="K·∫πo">
         <img src="vat2.png" class="decor-img wobble" style="top: 18%; right: 5%; width: 150px;" alt="Chu√¥ng">
         <img src="vat3.png" class="decor-img wobble hide-on-mobile" style="bottom: 5%; left: 8%; width: 140px ;" alt="T·∫•t">
         <img src="vat4.png" class="decor-img wobble" style="bottom: 12%; right: 10%; width: 100px;" alt="C√¢y th√¥ng nh·ªè">
         <img src="noel.jpg" class="main-photo wobble" alt="·∫¢nh Gi√°ng Sinh">
        <h1 class="celebration-text"> üéÑMerry ChristmasüéÑ</h1>
        <p>Ch√∫c Quy√™n m·ªôt m√πa Gi√°ng sinh ·∫•m √°p, h·∫°nh ph√∫c v√† tr√†n ƒë·∫ßy ni·ªÅm vui!</p>
        <div class="icons-row">
            <div class="icon-item">üéÖ</div>
            <div class="icon-item">‚õÑ</div>
            <div class="icon-item">ü¶å</div>
            <div class="icon-item">üîî</div>
        </div>
    </div>

    <audio id="bgMusic" loop>
        <source src="nhac.mp3" type="audio/mpeg">
    </audio>

    <audio id="explosionSound">
        <source src="phaohoa.mp3" type="audio/mpeg">
    </audio>

    <script>
        function openGift() {
            // 1. ·∫®n g·ª£i √Ω ngay
            var hint = document.querySelector('.click-hint');
            if (hint) hint.style.display = 'none';

            // 2. K√≠ch ho·∫°t hi·ªáu ·ª©ng "S·∫Øp n·ªï"
            var giftBox = document.querySelector('.gift-box');
            if (giftBox) {
                // Th√™m class n√†y ƒë·ªÉ CSS k√≠ch ho·∫°t animation violent-explode
                giftBox.classList.add('gift-exploding');
            }

            // 3. B·∫Øn ph√°o hoa nh·ªè m·ªìi l·ª≠a
            confetti({ particleCount: 50, spread: 100, origin: { y: 0.5 }, colors: ['#ff0000', '#ffa500'], startVelocity: 30 });

            // 4. Ch·ªù 0.8 gi√¢y cho hi·ªáu ·ª©ng n·ªï ch·∫°y xong m·ªõi hi·ªán qu√†
            setTimeout(function() {
                
                // ·∫®n m√†n h√¨nh qu√†
                document.getElementById('gift-screen').style.display = 'none';
                // Hi·ªán m√†n h√¨nh ch√∫c m·ª´ng
                document.getElementById('celebration-screen').style.display = 'block';

                // Ph√°t ti·∫øng n·ªï
                var explosion = document.getElementById('explosionSound');
                if (explosion) {
                    explosion.volume = 1.0;
                    explosion.currentTime = 0;
                    explosion.play().catch(e => console.log("L·ªói ph√°t ti·∫øng n·ªï"));
                }

                // Ph√°t nh·∫°c n·ªÅn
                setTimeout(function() {
                    var music = document.getElementById('bgMusic');
                    if (music) {
                        music.volume = 0.7;
                        music.play().catch(e => console.log("L·ªói ph√°t nh·∫°c"));
                    }
                }, 300);

                // Hi·ªáu ·ª©ng ƒÉn m·ª´ng
                fireworks();
                setInterval(createSnowflake, 100);

            }, 800); // 800ms tr√πng kh·ªõp v·ªõi th·ªùi gian animation trong CSS
        }

        // H√†m ph√°o hoa l·ªõn
        function fireworks() {
            var duration = 3 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) return clearInterval(interval);
                var particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: Math.random(), y: Math.random() - 0.2 } }));
            }, 250);
        }

        // H√†m t·∫°o tuy·∫øt
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');
            snowflake.innerHTML = '‚ùÑ';
            snowflake.style.left = Math.random() * 100 + 'vw';
            snowflake.style.animationDuration = Math.random() * 3 + 2 + 's';
            snowflake.style.opacity = Math.random();
            snowflake.style.fontSize = Math.random() * 30 + 20 + 'px';
            document.body.appendChild(snowflake);
            setTimeout(() => { snowflake.remove(); }, 5000);
        }
    </script>
</body>
</html>
