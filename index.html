<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Món Quà Giáng Sinh Của Quyên </title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0; padding: 0;
            background: #051937;
            background-image: radial-gradient(circle, #a80000, #540000, #2b0000);
            color: white;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        
        #gift-screen {
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s;
        }
        
        /* Trạng thái bình thường: Rung nhẹ */
        .gift-box {
            font-size: 150px;
            animation: shake 2s infinite; 
            display: inline-block;
            transition: all 0.5s;
        }

     
        .gift-exploding {
            animation: violent-explode 0.8s forwards ease-in !important; 
            pointer-events: none; /* Khóa không cho bấm nữa */
        }

        .click-hint {
            margin-top: 20px;
            font-size: 1.2rem;
            color: #fff;
            animation: blink 1.5s infinite;
        }

      
        #celebration-screen {
            display: none;
            opacity: 0; 
            transition: opacity 3s ease-in;
            text-align: center;
            width: 90%;
            max-width: 600px;
            z-index: 50;
        }

        .main-photo {
            width: 250px;
            border-radius: 20px;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            border: 5px solid white;
            margin-bottom: 20px;
        }
 h1, p {
   
    font-family: 'Dancing Script', cursive;
    font-weight: 400;
}

h1 {
    font-size: 3.5rem;
    color: #fffce0;
    text-shadow: 2px 2px 8px rgba(0,0,0,0.2);
    margin-bottom: 5px;
    /* Xóa bỏ hoàn toàn class wobble nếu bạn không muốn nó lắc */
}

p {
    font-size: 1.5rem;
    color: #ffffff;
    line-height: 1.6;
}
        }

        /* Animation Keyframes */
        @keyframes shake {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            50% { transform: rotate(0deg); }
            75% { transform: rotate(-5deg); }
            100% { transform: rotate(0deg); }
        }

        /* Hiệu ứng NỔ TUNG: Rung cực mạnh và phình to */
        @keyframes violent-explode {
            0% { transform: scale(1) rotate(0deg); filter: hue-rotate(0deg); }
            20% { transform: scale(1.2) rotate(-10deg); filter: hue-rotate(90deg); } /* Đổi màu */
            40% { transform: scale(1.4) rotate(10deg); filter: hue-rotate(180deg); }
            60% { transform: scale(1.6) rotate(-10deg); filter: hue-rotate(270deg); opacity: 0.8; }
            80% { transform: scale(1.8) rotate(10deg); filter: hue-rotate(360deg); opacity: 0.5; }
            100% { transform: scale(3); opacity: 0; } /* Biến mất */
        }

        @keyframes wobble {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(10deg); }
            75% { transform: rotate(-10deg); }
        }

        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

      
        .wobble { animation: wobble 2s infinite ease-in-out; display: inline-block; }
        .icons-row { font-size: 3rem; margin-top: 10px; display: flex; justify-content: center; gap: 10px; }
        .icon-item { animation: wobble 2s infinite ease-in-out; }
        .snowflake { position: fixed; top: -10px; color: white; user-select: none; pointer-events: none; animation-name: fall; animation-timing-function: linear; z-index: 1; }
        @keyframes fall { to { transform: translateY(105vh); } }
      
        .decor-img {
            position: absolute; 
            z-index: 40; 
        }
        
      
        @media (max-width: 600px) {
            .hide-on-mobile { display: none; }
           
.main-photo-highlight {
    width: 350px; 
    border-radius: 20px;
   
    border: 4px solid #ffd700;
    box-shadow: 0 0 40px rgba(255, 215, 0, 0.5), 0 0 80px rgba(255, 215, 0, 0.2);
   
    animation: pulse-glow 3s infinite alternate ease-in-out;
   
    position: relative;
    z-index: 60;
}

      
        @keyframes pulse-glow {
        0% {
            transform: scale(1);
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.5), 0 0 80px rgba(255, 215, 0, 0.2);
        }
        100% {
            transform: scale(1.05); 
       
            box-shadow: 0 0 60px rgba(255, 165, 0, 0.7), 0 0 100px rgba(255, 165, 0, 0.4);
            border-color: #ffa500;
    }
}


.celebration-text, .icons-row {
    opacity: 0.8; /* Làm mờ nhẹ */
    transform: scale(0.9); /* Thu nhỏ nhẹ */
}/* --- (MỚI) HIỆU ỨNG XE TUẦN LỘC BAY 3D --- */

        /* 1. Trạng thái ban đầu: Ẩn đi */
        #santa-sleigh-container {
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            pointer-events: none; /* Không chặn chuột khi bấm */
            z-index: 200; /* Nằm trên tất cả mọi thứ */
            display: none; /* Ẩn đi chờ lệnh */
            overflow: hidden;
        }

        /* Ảnh chiếc xe */
        .santa-img {
            widtw: 40%/* Kích thước cơ bản */
            on: absolute;
            wilange: transform; 
            trarm: translate3d(0, 0, 0);
        }

        /* 2. Kịch bản bay: Từ xa bên trái -> Gần giữa -> Xa bên phải */
        @keyframes santa-flyby-3d {
            /* GIAI ĐOẠN 1: XUẤT PHÁT */
    0% {
        /* Vị trí: Xa tít bên trái (-120% chiều ngang), và ở trên cao (-30% chiều dọc) */
        transform: translate3d(-120vw, -30vh, 0) scale(0.4) rotate(-15deg);
        /* Hiệu ứng: Nhỏ xíu, đầu xe ngóc lên cao */
        opacity: 0; /* Mờ dần khi bắt đầu */
        /* GIAI ĐOẠN 2: SÀ XUỐNG GIỮA MÀN HÌNH (Điểm nhấn) */
    40% {
        opacity: 1; /* Hiện rõ nhất */
        /* Vị trí: Gần giữa màn hình, sà xuống thấp (20% chiều dọc) */
        transform: translate3d(-10vw, 20vh, 0) scale(1.2) rotate(0deg);
        /* Hiệu ứng: To nhất (scale 1.2), xe đi thăng bằng */
    }

    /* GIAI ĐOẠN 3: BAY VÚT ĐI */
    100% {
        /* Vị trí: Xa tít bên phải (130% chiều ngang), bay vút lên cao (-50% chiều dọc) */
        transform: translate3d(130vw, -50vh, 0) scale(0.5) rotate(10deg);
        /* Hiệu ứng: Nhỏ lại, đầu xe chúc xuống một chút */
        opacity: 0.8;
    }
    }

    /* GIAI ĐO3: ; %; border-rad: s: 1; x; box-sha: w    0 3 px gold
    </div>
    <script>
        function openGift() {
    // 1. Ẩn dòng chữ gợi ý
    var hint = document.querySelector('.click-hint');
    if (hint) hint.style.display = 'none';

    // 2. Kích hoạt hiệu ứng rung lắc hộp quà
    var giftBox = document.querySelector('.gift-box');
    if (giftBox) giftBox.classList.add('gift-exploding');

    // Bắn pháo mồi nhỏ
    confetti({ particleCount: 50, spread: 100, origin: { y: 0.5 }, colors: ['#ff0000', '#ffa500'], startVelocity: 30 });

    // --- GIAI ĐOẠN 1: SAU 0.8 GIÂY -> NỔ BÙM & XE BAY ---
    setTimeout(function() {
        
        // a. Ẩn hộp quà đi
        document.getElementById('gift-screen').style.display = 'none';

        // b. Phát tiếng nổ & Nhạc nền ngay
        var explosion = document.getElementById('explosionSound');
        if (explosion) { explosion.volume = 1.0; explosion.currentTime = 0; explosion.play().catch(e => {}); }
        
        var music = document.getElementById('bgMusic');
        if (music) { music.volume = 0.7; music.play().catch(e => {}); }

        // c. KÍCH HOẠT XE TUẦN LỘC BAY NGAY LÚC NÀY
        var santaContainer = document.getElementById('santa-sleigh-container');
        var bellSound = document.getElementById('sleighBellSound');
        if (santaContainer) {
            santaContainer.style.display = 'block';
            santaContainer.classList.add('santa-flying-active'); // Xe bắt đầu bay
            // Phát tiếng chuông xe
            if (bellSound) { bellSound.volume = 0.8; bellSound.currentTime = 0; bellSound.play().catch(e => {}); }
            // Ẩn xe sau khi bay xong (8 giây)
            setTimeout(() => { santaContainer.style.display = 'none'; }, 8000);
        }

        // d. Bắn pháo hoa nền (cho đỡ trống trải khi chờ xe bay)
        fireworks();
        setInterval(createSnowflake, 100);

        // --- GIAI ĐOẠN 2: CHỜ XE BAY ĐƯỢC 4 GIÂY THÌ MỚI HIỆN LỜI CHÚC ---
        setTimeout(function() {
            var celebration = document.getElementById('celebration-screen');
            if (celebration) {
                celebration.style.display = 'block'; // Bắt đầu hiển thị (nhưng vẫn mờ)
                
                // Mẹo nhỏ: Phải chờ 1 chút xíu (10ms) để trình duyệt nhận lệnh display:block rồi mới tăng opacity
                setTimeout(() => {
                    celebration.style.opacity = 1; // Từ từ hiện rõ dần lên
                }, 50);
            }
        }, 4000); // <-- Số 4000 này là chờ 4 giây. Bạn có thể tăng lên 5000 nếu muốn xe bay lâu hơn nữa.

    }, 800); // (Hết rung lắc hộp quà)
}

        // Hàm pháo hoa lớn
        function fireworks() {
            var duration = 4 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) return clearInterval(interval);
                var particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: Math.random(), y: Math.random() - 0.2 } }));
            }, 250);
        }

        // Hàm tạo tuyết
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');
            snowflake.innerHTML = '❄';
            snowflake.style.left = Math.random() * 100 + 'vw';
            snowflake.style.animationDuration = Math.random() * 3 + 2 + 's';
            snowflake.style.opacity = Math.random();
            snowflake.style.fontSize = Math.random() * 30 + 20 + 'px';
            document.body.appendChild(snowflake);
            setTimeout(() => { snowflake.remove(); }, 5000);
        }
    </script>
</body>
</html>
