<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MÃ³n QuÃ  GiÃ¡ng Sinh Cá»§a Báº¡n</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0; padding: 0;
            background: #051937;
            background-image: radial-gradient(circle, #a80000, #540000, #2b0000);
            color: white;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        
        #gift-screen {
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s;
        }
        
        /* Tráº¡ng thÃ¡i bÃ¬nh thÆ°á»ng: Rung nháº¹ */
        .gift-box {
            font-size: 150px;
            animation: shake 2s infinite; 
            display: inline-block;
            transition: all 0.5s;
        }

     
        .gift-exploding {
            animation: violent-explode 0.8s forwards ease-in !important; 
            pointer-events: none; /* KhÃ³a khÃ´ng cho báº¥m ná»¯a */
        }

        .click-hint {
            margin-top: 20px;
            font-size: 1.2rem;
            color: #fff;
            animation: blink 1.5s infinite;
        }

      
        #celebration-screen {
            display: none;
            text-align: center;
            width: 90%;
            max-width: 600px;
            z-index: 50;
        }

        .main-photo {
            width: 250px;
            border-radius: 20px;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            border: 5px solid white;
            margin-bottom: 20px;
        }
 h1, p {
   
    font-family: 'Dancing Script', cursive;
    font-weight: 400;
}

h1 {
    font-size: 3.5rem;
    color: #fffce0;
    text-shadow: 2px 2px 8px rgba(0,0,0,0.2);
    margin-bottom: 5px;
    /* XÃ³a bá» hoÃ n toÃ n class wobble náº¿u báº¡n khÃ´ng muá»‘n nÃ³ láº¯c */
}

p {
    font-size: 1.5rem;
    color: #ffffff;
    line-height: 1.6;
}
        }

        /* Animation Keyframes */
        @keyframes shake {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(3deg); }
            50% { transform: rotate(0deg); }
            75% { transform: rotate(-3deg); }
            100% { transform: rotate(0deg); }
        }

        /* Hiá»‡u á»©ng Ná»” TUNG: Rung cá»±c máº¡nh vÃ  phÃ¬nh to */
        @keyframes violent-explode {
            0% { transform: scale(1) rotate(0deg); filter: hue-rotate(0deg); }
            20% { transform: scale(1.2) rotate(-10deg); filter: hue-rotate(90deg); } /* Äá»•i mÃ u */
            40% { transform: scale(1.4) rotate(10deg); filter: hue-rotate(180deg); }
            60% { transform: scale(1.6) rotate(-10deg); filter: hue-rotate(270deg); opacity: 0.8; }
            80% { transform: scale(1.8) rotate(10deg); filter: hue-rotate(360deg); opacity: 0.5; }
            100% { transform: scale(3); opacity: 0; } /* Biáº¿n máº¥t */
        }

        @keyframes wobble {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(10deg); }
            75% { transform: rotate(-10deg); }
        }

        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

      
        .wobble { animation: wobble 2s infinite ease-in-out; display: inline-block; }
        .icons-row { font-size: 3rem; margin-top: 10px; display: flex; justify-content: center; gap: 10px; }
        .icon-item { animation: wobble 2s infinite ease-in-out; }
        .snowflake { position: fixed; top: -10px; color: white; user-select: none; pointer-events: none; animation-name: fall; animation-timing-function: linear; z-index: 1; }
        @keyframes fall { to { transform: translateY(105vh); } }
      
        .decor-img {
            position: absolute; 
            z-index: 40; 
        }
        
      
        @media (max-width: 600px) {
            .hide-on-mobile { display: none; }
           
.main-photo-highlight {
    width: 350px; 
    border-radius: 20px;
   
    border: 4px solid #ffd700;
    box-shadow: 0 0 40px rgba(255, 215, 0, 0.5), 0 0 80px rgba(255, 215, 0, 0.2);
   
    animation: pulse-glow 3s infinite alternate ease-in-out;
   
    position: relative;
    z-index: 60;
}

      
        @keyframes pulse-glow {
        0% {
            transform: scale(1);
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.5), 0 0 80px rgba(255, 215, 0, 0.2);
        }
        100% {
            transform: scale(1.05); 
       
            box-shadow: 0 0 60px rgba(255, 165, 0, 0.7), 0 0 100px rgba(255, 165, 0, 0.4);
            border-color: #ffa500;
    }
}


.celebration-text, .icons-row {
    opacity: 0.8; /* LÃ m má» nháº¹ */
    transform: scale(0.9); /* Thu nhá» nháº¹ */
}/* --- (Má»šI) HIá»†U á»¨NG XE TUáº¦N Lá»˜C BAY 3D --- */

        /* 1. Tráº¡ng thÃ¡i ban Ä‘áº§u: áº¨n Ä‘i */
        #santa-sleigh-container {
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            pointer-events: none; /* KhÃ´ng cháº·n chuá»™t khi báº¥m */
            z-index: 200; /* Náº±m trÃªn táº¥t cáº£ má»i thá»© */
            display: none; /* áº¨n Ä‘i chá» lá»‡nh */
            overflow: hidden;
        }

        /* áº¢nh chiáº¿c xe */
        .santa-img {
            width: 400px; /* KÃ­ch thÆ°á»›c cÆ¡ báº£n */
            position: absolute;
            /* Sáº½ Ä‘Æ°á»£c Javascript kÃ­ch hoáº¡t animation */
        }

        /* 2. Ká»‹ch báº£n bay: Tá»« xa bÃªn trÃ¡i -> Gáº§n giá»¯a -> Xa bÃªn pháº£i */
        @keyframes santa-flyby-3d {
            0% {
                /* Báº¯t Ä‘áº§u: Xa tÃ­t bÃªn trÃ¡i, dÆ°á»›i tháº¥p, nhá» xÃ­u, hÆ¡i má» */
                transform: translate(-150%, 40vh) scale(0.3) rotate(-5deg);
                opacity: 0.8; filter: blur(2px);
            }
            40% {
                /* Giá»¯a chá»«ng: Bay Ä‘áº¿n gáº§n nháº¥t, to nháº¥t, rÃµ nÃ©t nháº¥t */
                transform: translate(30vw, -10vh) scale(1.5) rotate(0deg);
                opacity: 1; filter: blur(0px);
            }
            100% {
                /* Káº¿t thÃºc: Bay xa tÃ­t bÃªn pháº£i, lÃªn cao, nhá» láº¡i vÃ  má» dáº§n */
                transform: translate(120vw, -50vh) scale(0.3) rotate(5deg);
                opacity: 0.8; filter: blur(2px);
            }
        }

        /* Class nÃ y sáº½ Ä‘Æ°á»£c JS thÃªm vÃ o Ä‘á»ƒ báº¯t Ä‘áº§u diá»…n */
        .santa-flying-active {
            display: block !important;
        }
        .santa-flying-active .santa-img {
            /* Cháº¡y animation trong 7 giÃ¢y má»™t cÃ¡ch mÆ°á»£t mÃ  */
            animation: santa-flyby-3d 7s cubic-bezier(0.25, 1, 0.5, 1) forwards;
        }
            

    </style>
</head>
<body>

    <div id="gift-screen" onclick="openGift()">
        <div class="gift-box">ğŸ</div> 
        <div class="click-hint">Nháº¥n vÃ o há»™p quÃ  Ä‘á»ƒ má»Ÿ!</div>
    </div>

    <div id="celebration-screen">
        <img src="vat1.png" class="decor-img wobble" style="top: 10%; left: 20%; width: 120px;" alt="Káº¹o">
         <img src="vat2.png" class="decor-img wobble" style="top: 18%; right: 5%; width: 150px;" alt="ChuÃ´ng">
         <img src="vat3.png" class="decor-img wobble hide-on-mobile" style="bottom: 5%; left: 8%; width: 140px ;" alt="Táº¥t">
         <img src="vat4.png" class="decor-img wobble" style="bottom: 12%; right: 10%; width: 100px;" alt="CÃ¢y thÃ´ng nhá»">
         <img src="noel.jpg" class="main-photo wobble" alt="áº¢nh GiÃ¡ng Sinh">
        <h1 class="celebration-text"> ğŸ„Merry ChristmasğŸ„</h1>
        <p>ChÃºc QuyÃªn má»™t mÃ¹a GiÃ¡ng sinh áº¥m Ã¡p, háº¡nh phÃºc vÃ  trÃ n Ä‘áº§y niá»m vui!</p>
        <div class="icons-row">
            <div class="icon-item">ğŸ…</div>
            <div class="icon-item">â›„</div>
            <div class="icon-item">ğŸ¦Œ</div>
            <div class="icon-item">ğŸ””</div>
        </div>
    </div>

    <audio id="bgMusic" loop>
        <source src="nhac.mp3" type="audio/mpeg">
    </audio>
    <audio id="sleighBellSound">
        <source src="chuong.mp3" type="audio/mpeg">
    </audio>
    <audio id="explosionSound">
        <source src="phaohoa.mp3" type="audio/mpeg">
    </audio>
    <div id="santa-sleigh-container">
    <img src="https://i.imgur.com/wG6x9GZ.png" class="santa-img" alt="Santa Sleigh Flying">
    </div>
    <script>
        function openGift() {
            // 1. áº¨n gá»£i Ã½ ngay
            var hint = document.querySelector('.click-hint');
            if (hint) hint.style.display = 'none';

            // 2. KÃ­ch hoáº¡t hiá»‡u á»©ng "Sáº¯p ná»•"
            var giftBox = document.querySelector('.gift-box');
            if (giftBox) {
                // ThÃªm class nÃ y Ä‘á»ƒ CSS kÃ­ch hoáº¡t animation violent-explode
                giftBox.classList.add('gift-exploding');
            }

            // 3. Báº¯n phÃ¡o hoa nhá» má»“i lá»­a
            confetti({ particleCount: 50, spread: 100, origin: { y: 0.5 }, colors: ['#ff0000', '#ffa500'], startVelocity: 30 });

            // 4. Chá» 0.8 giÃ¢y cho hiá»‡u á»©ng ná»• cháº¡y xong má»›i hiá»‡n quÃ 
            setTimeout(function() {
                // --- (Má»šI) KÃCH HOáº T Ã”NG GIÃ€ NOEL BAY ---
                var santaContainer = document.getElementById('santa-sleigh-container');
                var bellSound = document.getElementById('sleighBellSound');

                if (santaContainer) {
                    // ThÃªm class Ä‘á»ƒ báº¯t Ä‘áº§u animation bay
                    santaContainer.classList.add('santa-flying-active');
                    
                    // PhÃ¡t tiáº¿ng chuÃ´ng leng keng (náº¿u cÃ³ táº£i file)
                    if (bellSound) {
                        bellSound.volume = 0.8; bellSound.currentTime = 0;
                        bellSound.play().catch(e => console.log("ChÆ°a cÃ³ file chuong.mp3"));
                    }

                    // Sau khi bay xong (7 giÃ¢y), áº©n Ä‘i Ä‘á»ƒ khÃ´ng vÆ°á»›ng vÃ­u
                    setTimeout(() => {
                        santaContainer.style.display = 'none';
                    }, 7500);
                }
                // ----------------------------------------
                // áº¨n mÃ n hÃ¬nh quÃ 
                document.getElementById('gift-screen').style.display = 'none';
                // Hiá»‡n mÃ n hÃ¬nh chÃºc má»«ng
                document.getElementById('celebration-screen').style.display = 'block';

                // PhÃ¡t tiáº¿ng ná»•
                var explosion = document.getElementById('explosionSound');
                if (explosion) {
                    explosion.volume = 1.0;
                    explosion.currentTime = 0;
                    explosion.play().catch(e => console.log("Lá»—i phÃ¡t tiáº¿ng ná»•"));
                }

                // PhÃ¡t nháº¡c ná»n
                setTimeout(function() {
                    var music = document.getElementById('bgMusic');
                    if (music) {
                        music.volume = 0.7;
                        music.play().catch(e => console.log("Lá»—i phÃ¡t nháº¡c"));
                    }
                }, 300);

                // Hiá»‡u á»©ng Äƒn má»«ng
                fireworks();
                setInterval(createSnowflake, 100);

            }, 800); // 800ms trÃ¹ng khá»›p vá»›i thá»i gian animation trong CSS
        }

        // HÃ m phÃ¡o hoa lá»›n
        function fireworks() {
            var duration = 3 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) return clearInterval(interval);
                var particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: Math.random(), y: Math.random() - 0.2 } }));
            }, 250);
        }

        // HÃ m táº¡o tuyáº¿t
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');
            snowflake.innerHTML = 'â„';
            snowflake.style.left = Math.random() * 100 + 'vw';
            snowflake.style.animationDuration = Math.random() * 3 + 2 + 's';
            snowflake.style.opacity = Math.random();
            snowflake.style.fontSize = Math.random() * 30 + 20 + 'px';
            document.body.appendChild(snowflake);
            setTimeout(() => { snowflake.remove(); }, 5000);
        }
    </script>
</body>
</html>
